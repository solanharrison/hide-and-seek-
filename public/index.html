<!DOCTYPE html>
<html>
<head>
  <title>Simple Multiplayer</title>
  <style>
    body { font-family: sans-serif; background:#111; color:white; }
    button { margin:5px; padding:10px; }
  </style>
</head>
<body>

<h2>Multiplayer Room</h2>

<input id="name" placeholder="Enter name">
<button onclick="join()">Join</button>
<button onclick="ready()">Ready</button>

<h3>Players:</h3>
<div id="players"></div>

<h2 id="status"></h2>

<script src="/socket.io/socket.io.js"></script>
<script>

const socket = io();

let joined = false;

function join() {
  const name = document.getElementById("name").value;
  if (!name) return alert("Enter name");

  socket.emit("join", name);
  joined = true;
}

function ready() {
  if (!joined) return alert("Join first");
  socket.emit("ready");
}

socket.on("players", (data) => {
  const div = document.getElementById("players");
  div.innerHTML = "";

  Object.values(data).forEach(p => {
    div.innerHTML += `<p>${p.name} ${p.ready ? "âœ…" : ""}</p>`;
  });
});

socket.on("gameStart", () => {
  document.getElementById("status").innerText = "Game Started!";
});

</script>

</body>
</html>
